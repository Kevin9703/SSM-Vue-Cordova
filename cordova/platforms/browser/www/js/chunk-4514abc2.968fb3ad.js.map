{"version":3,"sources":["webpack:///./node_modules/vant/es/image-preview/ImagePreview.js","webpack:///./node_modules/vant/es/image-preview/index.js","webpack:///./src/views/IconRevise.vue?63e8","webpack:///src/views/IconRevise.vue","webpack:///./src/views/IconRevise.vue?396e","webpack:///./src/views/IconRevise.vue?ba85","webpack:///./src/views/IconRevise.vue?054d","webpack:///./node_modules/vant/es/nav-bar/index.js","webpack:///./node_modules/vant/es/uploader/utils.js","webpack:///./node_modules/vant/es/uploader/index.js","webpack:///./node_modules/vant/es/popup/index.js","webpack:///./node_modules/vant/es/notify/Notify.js","webpack:///./node_modules/vant/es/notify/index.js"],"names":["_createNamespace","create","createComponent","bem","getDistance","touches","Math","sqrt","pow","clientX","clientY","instance","mixins","props","className","lazyLoad","Boolean","asyncClose","showIndicators","images","type","Array","default","loop","swipeDuration","Number","overlay","showIndex","startPosition","minZoom","maxZoom","overlayClass","String","data","scale","moveX","moveY","active","moving","zooming","doubleClickTimer","computed","imageStyle","this","style","transitionDuration","transform","watch","value","setActive","methods","onWrapperTouchStart","touchStartTime","Date","onWrapperTouchEnd","event","_this","deltaTime","_ref","$refs","swipe","_ref$offsetX","offsetX","_ref$offsetY","offsetY","clearTimeout","toggleScale","setTimeout","index","$emit","url","startMove","image","currentTarget","rect","getBoundingClientRect","winWidth","window","innerWidth","winHeight","innerHeight","touchStart","startMoveX","startMoveY","maxMoveX","max","width","maxMoveY","height","startZoom","startScale","startDistance","onImageTouchStart","_ref2","_ref2$offsetX","length","onImageTouchMove","touchMove","deltaX","deltaY","distance","onImageTouchEnd","stopPropagation","resetScale","genIndex","h","$createElement","slots","genCover","cover","genImages","_this2","imageSlots","loading","map","render","arguments","defaultConfig","onClose","onChange","closeOnPopstate","extend","el","document","createElement","body","appendChild","$el","$on","options","isArray","$once","show","install","use","_vm","_h","_c","_self","attrs","on","onClickLeft","submit","staticStyle","afterRead","model","callback","$$v","fileList","expression","staticClass","_v","staticRenderFns","name","photo","file","content","history","go","component","NavBar","ctx","fixed","border","zIndex","listeners","left","leftArrow","leftText","title","right","rightText","toArray","item","resultType","Promise","resolve","reader","FileReader","onload","target","result","readAsDataURL","readAsText","isOversize","files","maxSize","some","size","IMAGE_REGEXP","isImageUrl","test","isImageFile","isImage","indexOf","inheritAttrs","prop","disabled","uploadText","Function","beforeRead","beforeDelete","previewSize","accept","MAX_VALUE","maxCount","deletable","previewImage","previewFullImage","imageFit","previewSizeWithUnit","getDetail","slice","call","response","resetInput","then","readFile","catch","oversize","all","contents","onAfterRead","concat","onDelete","_this3","deleteFile","splice","input","onPreviewImage","_this4","imageFiles","filter","imageContents","imagePreview","closeImagePreview","close","genPreviewItem","_this5","DeleteIcon","Preview","genPreviewList","genUpload","slot","Input","$attrs","round","duration","closeable","transition","safeAreaInsetBottom","closeIcon","closeIconPosition","position","closeOnClickOverlay","beforeCreate","createEmitter","eventName","onClick","onOpened","onClosed","_bem","shouldRender","transitionName","Notify","color","background","message","getContainer","timer","parseOptions","click","opened","currentOptions","clear","defaultOptions","undefined","setDefaultOptions","resetDefaultOptions","prototype","$notify"],"mappings":"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","file":"js/chunk-4514abc2.968fb3ad.js","sourcesContent":["import { createNamespace } from '../utils';\nimport { range } from '../utils/format/number';\nimport { preventDefault } from '../utils/dom/event';\nimport { PopupMixin } from '../mixins/popup';\nimport { TouchMixin } from '../mixins/touch';\nimport Image from '../image';\nimport Loading from '../loading';\nimport Swipe from '../swipe';\nimport SwipeItem from '../swipe-item';\n\nvar _createNamespace = createNamespace('image-preview'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction getDistance(touches) {\n  return Math.sqrt(Math.pow(touches[0].clientX - touches[1].clientX, 2) + Math.pow(touches[0].clientY - touches[1].clientY, 2));\n}\n\nexport default createComponent({\n  mixins: [PopupMixin, TouchMixin],\n  props: {\n    className: null,\n    lazyLoad: Boolean,\n    asyncClose: Boolean,\n    showIndicators: Boolean,\n    images: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    swipeDuration: {\n      type: Number,\n      default: 500\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    showIndex: {\n      type: Boolean,\n      default: true\n    },\n    startPosition: {\n      type: Number,\n      default: 0\n    },\n    minZoom: {\n      type: Number,\n      default: 1 / 3\n    },\n    maxZoom: {\n      type: Number,\n      default: 3\n    },\n    overlayClass: {\n      type: String,\n      default: bem('overlay')\n    }\n  },\n  data: function data() {\n    return {\n      scale: 1,\n      moveX: 0,\n      moveY: 0,\n      active: 0,\n      moving: false,\n      zooming: false,\n      doubleClickTimer: null\n    };\n  },\n  computed: {\n    imageStyle: function imageStyle() {\n      var scale = this.scale;\n      var style = {\n        transitionDuration: this.zooming || this.moving ? '0s' : '.3s'\n      };\n\n      if (scale !== 1) {\n        style.transform = \"scale3d(\" + scale + \", \" + scale + \", 1) translate(\" + this.moveX / scale + \"px, \" + this.moveY / scale + \"px)\";\n      }\n\n      return style;\n    }\n  },\n  watch: {\n    value: function value() {\n      this.setActive(this.startPosition);\n    },\n    startPosition: function startPosition(active) {\n      this.setActive(active);\n    }\n  },\n  methods: {\n    onWrapperTouchStart: function onWrapperTouchStart() {\n      this.touchStartTime = new Date();\n    },\n    onWrapperTouchEnd: function onWrapperTouchEnd(event) {\n      var _this = this;\n\n      preventDefault(event);\n      var deltaTime = new Date() - this.touchStartTime;\n\n      var _ref = this.$refs.swipe || {},\n          _ref$offsetX = _ref.offsetX,\n          offsetX = _ref$offsetX === void 0 ? 0 : _ref$offsetX,\n          _ref$offsetY = _ref.offsetY,\n          offsetY = _ref$offsetY === void 0 ? 0 : _ref$offsetY; // prevent long tap to close component\n\n\n      if (deltaTime < 300 && offsetX < 10 && offsetY < 10) {\n        if (!this.doubleClickTimer) {\n          this.doubleClickTimer = setTimeout(function () {\n            var index = _this.active;\n\n            _this.$emit('close', {\n              index: index,\n              url: _this.images[index]\n            });\n\n            if (!_this.asyncClose) {\n              _this.$emit('input', false);\n            }\n\n            _this.doubleClickTimer = null;\n          }, 300);\n        } else {\n          clearTimeout(this.doubleClickTimer);\n          this.doubleClickTimer = null;\n          this.toggleScale();\n        }\n      }\n    },\n    startMove: function startMove(event) {\n      var image = event.currentTarget;\n      var rect = image.getBoundingClientRect();\n      var winWidth = window.innerWidth;\n      var winHeight = window.innerHeight;\n      this.touchStart(event);\n      this.moving = true;\n      this.startMoveX = this.moveX;\n      this.startMoveY = this.moveY;\n      this.maxMoveX = Math.max(0, (rect.width - winWidth) / 2);\n      this.maxMoveY = Math.max(0, (rect.height - winHeight) / 2);\n    },\n    startZoom: function startZoom(event) {\n      this.moving = false;\n      this.zooming = true;\n      this.startScale = this.scale;\n      this.startDistance = getDistance(event.touches);\n    },\n    onImageTouchStart: function onImageTouchStart(event) {\n      var touches = event.touches;\n\n      var _ref2 = this.$refs.swipe || {},\n          _ref2$offsetX = _ref2.offsetX,\n          offsetX = _ref2$offsetX === void 0 ? 0 : _ref2$offsetX;\n\n      if (touches.length === 1 && this.scale !== 1) {\n        this.startMove(event);\n      }\n      /* istanbul ignore else */\n      else if (touches.length === 2 && !offsetX) {\n          this.startZoom(event);\n        }\n    },\n    onImageTouchMove: function onImageTouchMove(event) {\n      var touches = event.touches;\n\n      if (this.moving || this.zooming) {\n        preventDefault(event, true);\n      }\n\n      if (this.moving) {\n        this.touchMove(event);\n        var moveX = this.deltaX + this.startMoveX;\n        var moveY = this.deltaY + this.startMoveY;\n        this.moveX = range(moveX, -this.maxMoveX, this.maxMoveX);\n        this.moveY = range(moveY, -this.maxMoveY, this.maxMoveY);\n      }\n\n      if (this.zooming && touches.length === 2) {\n        var distance = getDistance(touches);\n        var scale = this.startScale * distance / this.startDistance;\n        this.scale = range(scale, this.minZoom, this.maxZoom);\n      }\n    },\n    onImageTouchEnd: function onImageTouchEnd(event) {\n      /* istanbul ignore else */\n      if (this.moving || this.zooming) {\n        var stopPropagation = true;\n\n        if (this.moving && this.startMoveX === this.moveX && this.startMoveY === this.moveY) {\n          stopPropagation = false;\n        }\n\n        if (!event.touches.length) {\n          this.moving = false;\n          this.zooming = false;\n          this.startMoveX = 0;\n          this.startMoveY = 0;\n          this.startScale = 1;\n\n          if (this.scale < 1) {\n            this.resetScale();\n          }\n        }\n\n        if (stopPropagation) {\n          preventDefault(event, true);\n        }\n      }\n    },\n    setActive: function setActive(active) {\n      this.resetScale();\n\n      if (active !== this.active) {\n        this.active = active;\n        this.$emit('change', active);\n      }\n    },\n    resetScale: function resetScale() {\n      this.scale = 1;\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    toggleScale: function toggleScale() {\n      var scale = this.scale > 1 ? 1 : 2;\n      this.scale = scale;\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    genIndex: function genIndex() {\n      var h = this.$createElement;\n\n      if (this.showIndex) {\n        return h(\"div\", {\n          \"class\": bem('index')\n        }, [this.slots('index') || this.active + 1 + \" / \" + this.images.length]);\n      }\n    },\n    genCover: function genCover() {\n      var h = this.$createElement;\n      var cover = this.slots('cover');\n\n      if (cover) {\n        return h(\"div\", {\n          \"class\": bem('cover')\n        }, [cover]);\n      }\n    },\n    genImages: function genImages() {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var imageSlots = {\n        loading: function loading() {\n          return h(Loading, {\n            \"attrs\": {\n              \"type\": \"spinner\"\n            }\n          });\n        }\n      };\n      return h(Swipe, {\n        \"ref\": \"swipe\",\n        \"attrs\": {\n          \"loop\": this.loop,\n          \"indicatorColor\": \"white\",\n          \"duration\": this.swipeDuration,\n          \"initialSwipe\": this.startPosition,\n          \"showIndicators\": this.showIndicators\n        },\n        \"class\": bem('swipe'),\n        \"on\": {\n          \"change\": this.setActive\n        },\n        \"nativeOn\": {\n          \"touchstart\": this.onWrapperTouchStart,\n          \"touchMove\": preventDefault,\n          \"touchend\": this.onWrapperTouchEnd,\n          \"touchcancel\": this.onWrapperTouchEnd\n        }\n      }, [this.images.map(function (image, index) {\n        return h(SwipeItem, [h(Image, {\n          \"attrs\": {\n            \"src\": image,\n            \"fit\": \"contain\",\n            \"lazyLoad\": _this2.lazyLoad\n          },\n          \"class\": bem('image'),\n          \"scopedSlots\": imageSlots,\n          \"style\": index === _this2.active ? _this2.imageStyle : null,\n          \"nativeOn\": {\n            \"touchstart\": _this2.onImageTouchStart,\n            \"touchmove\": _this2.onImageTouchMove,\n            \"touchend\": _this2.onImageTouchEnd,\n            \"touchcancel\": _this2.onImageTouchEnd\n          }\n        })]);\n      })]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    if (!this.value) {\n      return;\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": \"van-fade\"\n      }\n    }, [h(\"div\", {\n      \"class\": [bem(), this.className]\n    }, [this.genImages(), this.genIndex(), this.genCover()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueImagePreview from './ImagePreview';\nimport { isServer } from '../utils';\nvar instance;\nvar defaultConfig = {\n  loop: true,\n  images: [],\n  value: true,\n  minZoom: 1 / 3,\n  maxZoom: 3,\n  className: '',\n  onClose: null,\n  onChange: null,\n  lazyLoad: false,\n  showIndex: true,\n  asyncClose: false,\n  startPosition: 0,\n  swipeDuration: 500,\n  showIndicators: false,\n  closeOnPopstate: false\n};\n\nvar initInstance = function initInstance() {\n  instance = new (Vue.extend(VueImagePreview))({\n    el: document.createElement('div')\n  });\n  document.body.appendChild(instance.$el);\n  instance.$on('change', function (index) {\n    if (instance.onChange) {\n      instance.onChange(index);\n    }\n  });\n};\n\nvar ImagePreview = function ImagePreview(images, startPosition) {\n  if (startPosition === void 0) {\n    startPosition = 0;\n  }\n\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    initInstance();\n  }\n\n  var options = Array.isArray(images) ? {\n    images: images,\n    startPosition: startPosition\n  } : images;\n\n  _extends(instance, defaultConfig, options);\n\n  instance.$once('input', function (show) {\n    instance.value = show;\n  });\n\n  if (options.onClose) {\n    instance.$once('close', options.onClose);\n  }\n\n  return instance;\n};\n\nImagePreview.install = function () {\n  Vue.use(VueImagePreview);\n};\n\nexport default ImagePreview;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('van-nav-bar',{attrs:{\"title\":\"\",\"left-arrow\":\"\",\"left-text\":\"上传头像\",\"right-text\":\"提交\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.submit}})],1),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"50px\"}},[_c('van-uploader',{attrs:{\"after-read\":_vm.afterRead,\"multiple\":\"\",\"max-count\":1},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}}),_c('br'),_c('br'),_c('span',{staticClass:\"font\"},[_vm._v(\"选择一个好看的头像吧！\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <van-nav-bar\r\n        title\r\n        left-arrow\r\n        left-text=\"上传头像\"\r\n        @click-left=\"onClickLeft\"\r\n        right-text=\"提交\"\r\n        @click-right=\"submit\"\r\n      />\r\n    </div>\r\n    <div style=\"text-align:center;margin-top:50px;\">\r\n      <van-uploader\r\n        :after-read=\"afterRead\"\r\n        v-model=\"fileList\"\r\n        multiple\r\n        :max-count=\"1\"\r\n      />\r\n      <br>\r\n      <br>\r\n      <span class=\"font\">选择一个好看的头像吧！</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\nimport axios from \"axios\";\r\nimport { Uploader } from \"vant\";\r\nimport { NavBar } from \"vant\";\r\nimport { Button } from \"vant\";\r\nimport { Notify } from \"vant\";\r\n\r\nVue.use(Notify);\r\n\r\nVue.use(Button);\r\nVue.use(NavBar);\r\nVue.use(Uploader);\r\n\r\nexport default {\r\n  name: \"IconRevise\",\r\n  data() {\r\n    return {\r\n      fileList: [],\r\n      photo: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    afterRead(file) {\r\n      // 此时可以自行将文件上传至服务器\r\n      this.photo = file.content;\r\n    },\r\n    onClickLeft() {\r\n      window.history.go(-1);\r\n    },\r\n    submit() {\r\n      axios\r\n        .post(\"http://192.168.137.1:8090/androidApp/User/UpdateIcon\", {\r\n          icon: this.photo\r\n        })\r\n        .then(response => {\r\n          // eslint-disable-next-line no-console\r\n          console.log(response);\r\n          Notify(\"上传成功\");\r\n          window.history.go(-1);\r\n        })\r\n        .catch(error => {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.font {\r\n  color: #778899;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconRevise.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconRevise.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconRevise.vue?vue&type=template&id=301ff209&scoped=true&\"\nimport script from \"./IconRevise.vue?vue&type=script&lang=js&\"\nexport * from \"./IconRevise.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconRevise.vue?vue&type=style&index=0&id=301ff209&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"301ff209\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconRevise.vue?vue&type=style&index=0&id=301ff209&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IconRevise.vue?vue&type=style&index=0&id=301ff209&scoped=true&lang=css&\"","import _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace, noop } from '../utils';\nimport { inherit } from '../utils/functional';\nimport { BORDER_BOTTOM } from '../utils/constant';\nimport Icon from '../icon'; // Types\n\nvar _createNamespace = createNamespace('nav-bar'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction NavBar(h, props, slots, ctx) {\n  var _ref;\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": [bem({\n      fixed: props.fixed\n    }), (_ref = {}, _ref[BORDER_BOTTOM] = props.border, _ref)],\n    \"style\": {\n      zIndex: props.zIndex\n    }\n  }, inherit(ctx)]), [h(\"div\", {\n    \"class\": bem('left'),\n    \"on\": {\n      \"click\": ctx.listeners['click-left'] || noop\n    }\n  }, [slots.left ? slots.left() : [props.leftArrow && h(Icon, {\n    \"class\": bem('arrow'),\n    \"attrs\": {\n      \"name\": \"arrow-left\"\n    }\n  }), props.leftText && h(\"span\", {\n    \"class\": bem('text')\n  }, [props.leftText])]]), h(\"div\", {\n    \"class\": [bem('title'), 'van-ellipsis']\n  }, [slots.title ? slots.title() : props.title]), h(\"div\", {\n    \"class\": bem('right'),\n    \"on\": {\n      \"click\": ctx.listeners['click-right'] || noop\n    }\n  }, [slots.right ? slots.right() : props.rightText && h(\"span\", {\n    \"class\": bem('text')\n  }, [props.rightText])])]);\n}\n\nNavBar.props = {\n  title: String,\n  fixed: Boolean,\n  leftText: String,\n  rightText: String,\n  leftArrow: Boolean,\n  border: {\n    type: Boolean,\n    default: true\n  },\n  zIndex: {\n    type: Number,\n    default: 1\n  }\n};\nexport default createComponent(NavBar);","export function toArray(item) {\n  if (Array.isArray(item)) {\n    return item;\n  }\n\n  return [item];\n}\nexport function readFile(file, resultType) {\n  return new Promise(function (resolve) {\n    if (resultType === 'file') {\n      resolve();\n      return;\n    }\n\n    var reader = new FileReader();\n\n    reader.onload = function (event) {\n      resolve(event.target.result);\n    };\n\n    if (resultType === 'dataUrl') {\n      reader.readAsDataURL(file);\n    } else if (resultType === 'text') {\n      reader.readAsText(file);\n    }\n  });\n}\nexport function isOversize(files, maxSize) {\n  return toArray(files).some(function (file) {\n    return file.size > maxSize;\n  });\n}\nvar IMAGE_REGEXP = /\\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;\nexport function isImageUrl(url) {\n  return IMAGE_REGEXP.test(url);\n}\nexport function isImageFile(item) {\n  // some special urls cannot be recognized\n  // user can add `isImage` flag to mark it as an image url\n  if (item.isImage) {\n    return true;\n  }\n\n  if (item.file && item.file.type) {\n    return item.file.type.indexOf('image') === 0;\n  }\n\n  if (item.url) {\n    return isImageUrl(item.url);\n  }\n\n  if (item.content) {\n    return item.content.indexOf('data:image') === 0;\n  }\n\n  return false;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace, addUnit, noop } from '../utils';\nimport { toArray, readFile as _readFile, isOversize, isImageFile } from './utils';\nimport Icon from '../icon';\nimport Image from '../image';\nimport ImagePreview from '../image-preview';\n\nvar _createNamespace = createNamespace('uploader'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  inheritAttrs: false,\n  model: {\n    prop: 'fileList'\n  },\n  props: {\n    disabled: Boolean,\n    uploadText: String,\n    afterRead: Function,\n    beforeRead: Function,\n    beforeDelete: Function,\n    previewSize: [Number, String],\n    name: {\n      type: [Number, String],\n      default: ''\n    },\n    accept: {\n      type: String,\n      default: 'image/*'\n    },\n    fileList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    maxSize: {\n      type: Number,\n      default: Number.MAX_VALUE\n    },\n    maxCount: {\n      type: Number,\n      default: Number.MAX_VALUE\n    },\n    deletable: {\n      type: Boolean,\n      default: true\n    },\n    previewImage: {\n      type: Boolean,\n      default: true\n    },\n    previewFullImage: {\n      type: Boolean,\n      default: true\n    },\n    imageFit: {\n      type: String,\n      default: 'cover'\n    },\n    resultType: {\n      type: String,\n      default: 'dataUrl'\n    }\n  },\n  computed: {\n    previewSizeWithUnit: function previewSizeWithUnit() {\n      return addUnit(this.previewSize);\n    }\n  },\n  methods: {\n    getDetail: function getDetail(index) {\n      if (index === void 0) {\n        index = this.fileList.length;\n      }\n\n      return {\n        name: this.name,\n        index: index\n      };\n    },\n    onChange: function onChange(event) {\n      var _this = this;\n\n      var files = event.target.files;\n\n      if (this.disabled || !files.length) {\n        return;\n      }\n\n      files = files.length === 1 ? files[0] : [].slice.call(files);\n\n      if (this.beforeRead) {\n        var response = this.beforeRead(files, this.getDetail());\n\n        if (!response) {\n          this.resetInput();\n          return;\n        }\n\n        if (response.then) {\n          response.then(function () {\n            _this.readFile(files);\n          }).catch(this.resetInput);\n          return;\n        }\n      }\n\n      this.readFile(files);\n    },\n    readFile: function readFile(files) {\n      var _this2 = this;\n\n      var oversize = isOversize(files, this.maxSize);\n\n      if (Array.isArray(files)) {\n        var maxCount = this.maxCount - this.fileList.length;\n\n        if (files.length > maxCount) {\n          files = files.slice(0, maxCount);\n        }\n\n        Promise.all(files.map(function (file) {\n          return _readFile(file, _this2.resultType);\n        })).then(function (contents) {\n          var fileList = files.map(function (file, index) {\n            var result = {\n              file: file\n            };\n\n            if (contents[index]) {\n              result.content = contents[index];\n            }\n\n            return result;\n          });\n\n          _this2.onAfterRead(fileList, oversize);\n        });\n      } else {\n        _readFile(files, this.resultType).then(function (content) {\n          var result = {\n            file: files\n          };\n\n          if (content) {\n            result.content = content;\n          }\n\n          _this2.onAfterRead(result, oversize);\n        });\n      }\n    },\n    onAfterRead: function onAfterRead(files, oversize) {\n      if (oversize) {\n        this.$emit('oversize', files, this.getDetail());\n        return;\n      }\n\n      this.resetInput();\n      this.$emit('input', [].concat(this.fileList, toArray(files)));\n\n      if (this.afterRead) {\n        this.afterRead(files, this.getDetail());\n      }\n    },\n    onDelete: function onDelete(file, index) {\n      var _this3 = this;\n\n      if (this.beforeDelete) {\n        var response = this.beforeDelete(file, this.getDetail(index));\n\n        if (!response) {\n          return;\n        }\n\n        if (response.then) {\n          response.then(function () {\n            _this3.deleteFile(file, index);\n          }).catch(noop);\n          return;\n        }\n      }\n\n      this.deleteFile(file, index);\n    },\n    deleteFile: function deleteFile(file, index) {\n      var fileList = this.fileList.slice(0);\n      fileList.splice(index, 1);\n      this.$emit('input', fileList);\n      this.$emit('delete', file, this.getDetail(index));\n    },\n    resetInput: function resetInput() {\n      /* istanbul ignore else */\n      if (this.$refs.input) {\n        this.$refs.input.value = '';\n      }\n    },\n    onPreviewImage: function onPreviewImage(item) {\n      var _this4 = this;\n\n      if (!this.previewFullImage) {\n        return;\n      }\n\n      var imageFiles = this.fileList.filter(function (item) {\n        return isImageFile(item);\n      });\n      var imageContents = imageFiles.map(function (item) {\n        return item.content || item.url;\n      });\n      this.imagePreview = ImagePreview({\n        images: imageContents,\n        closeOnPopstate: true,\n        startPosition: imageFiles.indexOf(item),\n        onClose: function onClose() {\n          _this4.$emit('close-preview');\n        }\n      });\n    },\n    closeImagePreview: function closeImagePreview() {\n      if (this.imagePreview) {\n        this.imagePreview.close();\n      }\n    },\n    genPreviewItem: function genPreviewItem(item, index) {\n      var _this5 = this;\n\n      var h = this.$createElement;\n      var DeleteIcon = this.deletable && h(Icon, {\n        \"attrs\": {\n          \"name\": \"clear\"\n        },\n        \"class\": bem('preview-delete'),\n        \"on\": {\n          \"click\": function click(event) {\n            event.stopPropagation();\n\n            _this5.onDelete(item, index);\n          }\n        }\n      });\n      var Preview = isImageFile(item) ? h(Image, {\n        \"attrs\": {\n          \"fit\": this.imageFit,\n          \"src\": item.content || item.url,\n          \"width\": this.previewSize,\n          \"height\": this.previewSize,\n          \"radius\": 4\n        },\n        \"class\": bem('preview-image'),\n        \"on\": {\n          \"click\": function click() {\n            _this5.onPreviewImage(item);\n          }\n        }\n      }) : h(\"div\", {\n        \"class\": bem('file'),\n        \"style\": {\n          width: this.previewSizeWithUnit,\n          height: this.previewSizeWithUnit\n        }\n      }, [h(Icon, {\n        \"class\": bem('file-icon'),\n        \"attrs\": {\n          \"name\": \"description\"\n        }\n      }), h(\"div\", {\n        \"class\": [bem('file-name'), 'van-ellipsis']\n      }, [item.file ? item.file.name : item.url])]);\n      return h(\"div\", {\n        \"class\": bem('preview'),\n        \"on\": {\n          \"click\": function click() {\n            _this5.$emit('click-preview', item, _this5.getDetail(index));\n          }\n        }\n      }, [Preview, DeleteIcon]);\n    },\n    genPreviewList: function genPreviewList() {\n      if (this.previewImage) {\n        return this.fileList.map(this.genPreviewItem);\n      }\n    },\n    genUpload: function genUpload() {\n      var h = this.$createElement;\n\n      if (this.fileList.length >= this.maxCount) {\n        return;\n      }\n\n      var slot = this.slots();\n      var Input = h(\"input\", {\n        \"attrs\": _extends({}, this.$attrs, {\n          \"type\": \"file\",\n          \"accept\": this.accept,\n          \"disabled\": this.disabled\n        }),\n        \"ref\": \"input\",\n        \"class\": bem('input'),\n        \"on\": {\n          \"change\": this.onChange\n        }\n      });\n\n      if (slot) {\n        return h(\"div\", {\n          \"class\": bem('input-wrapper')\n        }, [slot, Input]);\n      }\n\n      var style;\n\n      if (this.previewSize) {\n        var size = this.previewSizeWithUnit;\n        style = {\n          width: size,\n          height: size\n        };\n      }\n\n      return h(\"div\", {\n        \"class\": bem('upload'),\n        \"style\": style\n      }, [h(Icon, {\n        \"attrs\": {\n          \"name\": \"plus\"\n        },\n        \"class\": bem('upload-icon')\n      }), this.uploadText && h(\"span\", {\n        \"class\": bem('upload-text')\n      }, [this.uploadText]), Input]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('wrapper')\n    }, [this.genPreviewList(), this.genUpload()])]);\n  }\n});","import { createNamespace, isDef } from '../utils';\nimport { PopupMixin } from '../mixins/popup';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('popup'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [PopupMixin],\n  props: {\n    round: Boolean,\n    duration: Number,\n    closeable: Boolean,\n    transition: String,\n    safeAreaInsetBottom: Boolean,\n    closeIcon: {\n      type: String,\n      default: 'cross'\n    },\n    closeIconPosition: {\n      type: String,\n      default: 'top-right'\n    },\n    position: {\n      type: String,\n      default: 'center'\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    closeOnClickOverlay: {\n      type: Boolean,\n      default: true\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    var _this = this;\n\n    var createEmitter = function createEmitter(eventName) {\n      return function (event) {\n        return _this.$emit(eventName, event);\n      };\n    };\n\n    this.onClick = createEmitter('click');\n    this.onOpened = createEmitter('opened');\n    this.onClosed = createEmitter('closed');\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    var round = this.round,\n        position = this.position,\n        duration = this.duration;\n    var transitionName = this.transition || (position === 'center' ? 'van-fade' : \"van-popup-slide-\" + position);\n    var style = {};\n\n    if (isDef(duration)) {\n      style.transitionDuration = duration + \"s\";\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": transitionName\n      },\n      \"on\": {\n        \"afterEnter\": this.onOpened,\n        \"afterLeave\": this.onClosed\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"style\": style,\n      \"class\": bem((_bem = {\n        round: round\n      }, _bem[position] = position, _bem['safe-area-inset-bottom'] = this.safeAreaInsetBottom, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.slots(), this.closeable && h(Icon, {\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\",\n        \"name\": this.closeIcon\n      },\n      \"class\": bem('close-icon', this.closeIconPosition),\n      \"on\": {\n        \"click\": this.close\n      }\n    })])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace } from '../utils';\nimport { WHITE } from '../utils/constant';\nimport { inherit } from '../utils/functional';\nimport { PopupMixin } from '../mixins/popup';\nimport Popup from '../popup'; // Types\n\nvar _createNamespace = createNamespace('notify'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Notify(h, props, slots, ctx) {\n  var style = {\n    color: props.color,\n    background: props.background\n  };\n  return h(Popup, _mergeJSXProps([{\n    \"attrs\": {\n      \"value\": props.value,\n      \"position\": \"top\",\n      \"overlay\": false,\n      \"duration\": 0.2,\n      \"lockScroll\": false\n    },\n    \"style\": style,\n    \"class\": [bem([props.type]), props.className]\n  }, inherit(ctx, true)]), [props.message]);\n}\n\nNotify.props = _extends({}, PopupMixin.props, {\n  background: String,\n  className: null,\n  message: [Number, String],\n  getContainer: [String, Function],\n  type: {\n    type: String,\n    default: 'danger'\n  },\n  color: {\n    type: String,\n    default: WHITE\n  },\n  duration: {\n    type: Number,\n    default: 3000\n  }\n});\nexport default createComponent(Notify);","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VanNotify from './Notify';\nimport { WHITE } from '../utils/constant';\nimport { isObj, isServer } from '../utils';\nimport { mount } from '../utils/functional';\nvar timer;\nvar instance;\n\nfunction parseOptions(message) {\n  return isObj(message) ? message : {\n    message: message\n  };\n}\n\nfunction Notify(options) {\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    instance = mount(VanNotify, {\n      on: {\n        click: function click(event) {\n          if (instance.onClick) {\n            instance.onClick(event);\n          }\n        },\n        close: function close() {\n          if (instance.onClose) {\n            instance.onClose();\n          }\n        },\n        opened: function opened() {\n          if (instance.onOpened) {\n            instance.onOpened();\n          }\n        }\n      }\n    });\n  }\n\n  options = _extends({}, Notify.currentOptions, {}, parseOptions(options));\n\n  _extends(instance, options);\n\n  clearTimeout(timer);\n\n  if (options.duration && options.duration > 0) {\n    timer = setTimeout(Notify.clear, options.duration);\n  }\n\n  return instance;\n}\n\nfunction defaultOptions() {\n  return {\n    type: 'danger',\n    value: true,\n    message: '',\n    color: WHITE,\n    background: undefined,\n    duration: 3000,\n    className: '',\n    onClose: null,\n    onClick: null,\n    onOpened: null\n  };\n}\n\nNotify.clear = function () {\n  if (instance) {\n    instance.value = false;\n  }\n};\n\nNotify.currentOptions = defaultOptions();\n\nNotify.setDefaultOptions = function (options) {\n  _extends(Notify.currentOptions, options);\n};\n\nNotify.resetDefaultOptions = function () {\n  Notify.currentOptions = defaultOptions();\n};\n\nNotify.install = function () {\n  Vue.use(VanNotify);\n};\n\nVue.prototype.$notify = Notify;\nexport default Notify;"],"sourceRoot":""}
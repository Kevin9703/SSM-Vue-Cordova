(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d295dd0"],{"246d":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.postList,(function(e){return i("div",{key:e.indexNumber},[e.postId==t.postId?i("div",{staticStyle:{"padding-bottom":"50px","padding-top":"46px"}},[i("div",{staticClass:"top"},[i("van-nav-bar",{attrs:{title:"主题帖","left-arrow":"","left-text":"返回"},on:{"click-left":t.onClickLeft}})],1),i("div",[i("div",[i("van-row",{attrs:{type:"flex"}},[i("van-col",{attrs:{span:"3"}},[i("div",{staticStyle:{"margin-left":"5px","margin-top":"5px"}},[i("van-image",{attrs:{round:"",width:"35px",height:"35px",src:e.icon}})],1)]),i("van-col",{staticStyle:{"margin-top":"5px"},attrs:{span:"10"}},[i("li",{staticStyle:{color:"black","font-size":"13px","list-style":"none"}},[t._v(" "+t._s(e.userId)+" ")]),i("li",{staticStyle:{color:"grey","font-size":"12px","list-style":"none"}},[t._v(" "+t._s(e.postTime)+" ")])])],1),i("van-row",{attrs:{type:"flex",justify:"center"}},[i("van-col",{attrs:{span:"23"}},[i("li",{staticClass:"title"},[t._v(" "+t._s(e.title)+" ")]),i("li",{staticClass:"details"},[t._v(" "+t._s(e.details)+" ")])])],1),null!=e.photo?i("div",[i("van-row",{attrs:{type:"flex",justify:"center"}},[i("van-col",{attrs:{span:"23"}},[i("van-image",{attrs:{src:e.photo}})],1)],1)],1):t._e(),i("br")],1),i("div",{staticClass:"fenge"}),i("van-row",{staticStyle:{"margin-top":"15px"},attrs:{type:"flex",justify:"center"}},[i("van-col",{attrs:{span:"23"}},[t._v(" 全部评论 ")])],1),i("van-divider"),t._l(t.commentsList,(function(e){return i("div",{key:e.index},[e.postId==t.postId?i("div",[i("div",[i("van-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[i("van-col",{attrs:{span:"23"}},[i("van-col",{attrs:{span:"3"}},[i("van-image",{attrs:{round:"",width:"35px",height:"35px",src:e.icon}})],1),i("van-col",{attrs:{span:"21"}},[t._v(" "+t._s(e.userId)+" "),i("van-row",[i("van-col",{attrs:{span:"21"}},[i("li",{staticStyle:{"font-size":"10px","list-style":"none"}},[t._v(" 第"+t._s(e.indexNumber)+"楼 "+t._s(e.commentTime)+" ")])])],1)],1),i("van-row",{staticClass:"comment"},[t._v(" "+t._s(e.commentDetails)+" ")])],1)],1),i("van-divider")],1)]):t._e()])}))],2),i("div",{staticClass:"bottom"},[i("van-field",{attrs:{clearable:"",placeholder:"回复楼主",rows:"1",type:"textarea",autosize:""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}},[i("van-button",{attrs:{slot:"button",size:"small",type:"info"},on:{click:t.subComment},slot:"button"},[t._v(" 发送 ")]),i("van-field")],1)],1)]):t._e()])})),0)},n=[],o=i("2b0e"),a=i("44bf"),r=i("6b41"),l=i("d1e1"),c=i("9ffb"),h=i("9ed2"),u=i("565f"),d=i("b650"),m=i("d399"),f=i("d282");function v(t){return"none"===window.getComputedStyle(t).display||null===t.offsetParent}var p=i("5fbe"),g=i("a8c1"),b=i("543e"),x=Object(f["a"])("list"),y=x[0],I=x[1],w=x[2],C=y({mixins:[Object(p["a"])((function(t){this.scroller||(this.scroller=Object(g["b"])(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:Number,default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},mounted:function(){this.immediateCheck&&this.check()},watch:{finished:"check",loading:function(t){this.innerLoading=t,this.check()}},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var e,i=t.$el,s=t.scroller,n=t.offset,o=t.direction;e=s.getBoundingClientRect?s.getBoundingClientRect():{top:0,bottom:s.innerHeight};var a=e.bottom-e.top;if(!a||v(i))return!1;var r=!1,l=t.$refs.placeholder.getBoundingClientRect();r="up"===o?l.top-e.top<=n:l.bottom-e.bottom<=n,r&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading)return t("div",{class:I("loading"),key:"loading"},[this.slots("loading")||t(b["a"],{attrs:{size:"16"}},[this.loadingText||w("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished&&this.finishedText)return t("div",{class:I("finished-text")},[this.finishedText])},genErrorText:function(){var t=this.$createElement;if(this.error&&this.errorText)return t("div",{on:{click:this.clickErrorText},class:I("error-text")},[this.errorText])}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",class:I("placeholder")});return t("div",{class:I(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():e,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():e])}}),k=i("28a2");o["default"].use(k["a"]),o["default"].use(C),o["default"].use(u["a"]),o["default"].use(d["a"]),o["default"].use(h["a"]),o["default"].use(l["a"]).use(c["a"]),o["default"].use(r["a"]),o["default"].use(a["a"]);var T={name:"PostDetail",components:{},data:function(){return{finished:!1,loading:!1,totalNumber:3,postId:"",iconList:[{no:"iocn"}],postList:[{postId:1,userId:"babadalal",details:"IT之家12月16日消息 在12月初的夏威夷骁龙技术峰会上，高通正式发布了新一代旗舰移动平台骁龙865。",title:"性能猛增！高通骁龙865原型机及基准跑分全公布",photo:"https://img.ithome.com/newsuploadfiles/2019/12/20191216_220341_424.jpg",icon:i("24b4"),postTime:"2019-12-12 16:30",totalNumber:"2"},{postId:2,userId:"babadalal",details:"IT之家12月17日消息 今天下午，DxOMark网站正式公布了华为Mate30 Pro 5G版相机得分，其中拍照得分134分，视频拍摄得分102分，总分为123分，超过华为Mate30 Pro、小米CC9 Pro尊享版获得DxOMark手机榜单第一名。",title:"DxOMark公布华为Mate30 Pro 5G版相机得分，123分夺第一",photo:null,icon:i("24b4"),postTime:"2019-12-12 16:30",totalNumber:"1"},{postId:3,userId:"babadalal",details:"IT之家12月17日消息 上周，腾讯视频、爱奇艺两大视频网站平台均在会员制基础上，推出了超前点播付费模式。会员用户可花费50元购买加速权益包，始终超前看6集《庆余年》。",title:"买会员还要再花钱，腾讯视频王娟回应《庆余年》争议：对会员的消费心理不够体贴",photo:"https://img.ithome.com/newsuploadfiles/2019/12/20191217_120735_266.png",icon:i("24b4"),postTime:"2019-12-12 16:30",totalNumber:"1"}],comment:"",commentsList:[{postId:1,icon:i("24b4"),userId:"babadalal",indexNumber:1,commentDetails:"帖子1评论1",commentTime:"2019-12-17 17:42"},{postId:1,icon:i("24b4"),userId:"babadalal",indexNumber:3,commentDetails:"帖子1评论2",commentTime:"2019-12-17 17:42"},{postId:1,icon:i("24b4"),userId:"babadalal",indexNumber:2,commentDetails:"帖子1评论2",commentTime:"2019-12-17 17:42"},{postId:2,icon:i("24b4"),userId:"babadalal",indexNumber:1,commentDetails:"帖子2评论1",commentTime:"2019-12-17 17:42"}]}},mounted:function(){this.get_id(),this.get_post(),this.get_comments()},methods:{onClickLeft:function(){this.$router.go(-1)},get_id:function(){this.postId=this.$route.params.postId,console.log(this.postId)},get_post:function(){var t=this;this.axios.get("/Comment/FindAllForums").then((function(e){console.log(e),t.postList=e.data,t.totalNumber=e.data.totalNumber})).catch((function(t){console.log(t),Object(m["a"])("网络开小差了，请稍后再试！")}))},get_comments:function(){var t=this;this.axios.post("/Comment/FindAllComments",{postId:this.postId}).then((function(e){console.log("获得评论：",e),t.commentsList=e.data})).catch((function(t){console.log(t),Object(m["a"])("网络开小差了，请稍后再试！")}))},get_icon:function(){var t=this;this.axios.post("/Comment/getIcon",{postId:this.postId}).then((function(e){console.log("获得头像：",e),t.iconList=e.data})).catch((function(t){console.log("获取头像错误",t)}))},subComment:function(){var t=this;""==this.comment?Object(m["a"])("评论不能为空！"):this.axios.post("/Comment/InsertComment",{commentDetails:this.comment,postId:this.postId}).then((function(){Object(m["a"])("评论成功！"),t.comment="",t.get_comments()}))}}},S=T,$=(i("e329"),i("2877")),j=Object($["a"])(S,s,n,!1,null,"03b200bf",null);e["default"]=j.exports},"24b4":function(t,e,i){t.exports=i.p+"img/default.71535463.jpg"},"28a2":function(t,e,i){"use strict";var s=i("c31d"),n=i("2b0e"),o=i("d282"),a=i("482d"),r=i("1325"),l=i("6605"),c=i("3875"),h=i("44bf"),u=i("543e"),d=i("5596"),m=i("2bb1"),f=Object(o["a"])("image-preview"),v=f[0],p=f[1];function g(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}var b,x=v({mixins:[l["a"],c["a"]],props:{className:null,lazyLoad:Boolean,asyncClose:Boolean,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},swipeDuration:{type:Number,default:500},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},startPosition:{type:Number,default:0},minZoom:{type:Number,default:1/3},maxZoom:{type:Number,default:3},overlayClass:{type:String,default:p("overlay")}},data:function(){return{scale:1,moveX:0,moveY:0,active:0,moving:!1,zooming:!1,doubleClickTimer:null}},computed:{imageStyle:function(){var t=this.scale,e={transitionDuration:this.zooming||this.moving?"0s":".3s"};return 1!==t&&(e.transform="scale3d("+t+", "+t+", 1) translate("+this.moveX/t+"px, "+this.moveY/t+"px)"),e}},watch:{value:function(){this.setActive(this.startPosition)},startPosition:function(t){this.setActive(t)}},methods:{onWrapperTouchStart:function(){this.touchStartTime=new Date},onWrapperTouchEnd:function(t){var e=this;Object(r["c"])(t);var i=new Date-this.touchStartTime,s=this.$refs.swipe||{},n=s.offsetX,o=void 0===n?0:n,a=s.offsetY,l=void 0===a?0:a;i<300&&o<10&&l<10&&(this.doubleClickTimer?(clearTimeout(this.doubleClickTimer),this.doubleClickTimer=null,this.toggleScale()):this.doubleClickTimer=setTimeout((function(){var t=e.active;e.$emit("close",{index:t,url:e.images[t]}),e.asyncClose||e.$emit("input",!1),e.doubleClickTimer=null}),300))},startMove:function(t){var e=t.currentTarget,i=e.getBoundingClientRect(),s=window.innerWidth,n=window.innerHeight;this.touchStart(t),this.moving=!0,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.maxMoveX=Math.max(0,(i.width-s)/2),this.maxMoveY=Math.max(0,(i.height-n)/2)},startZoom:function(t){this.moving=!1,this.zooming=!0,this.startScale=this.scale,this.startDistance=g(t.touches)},onImageTouchStart:function(t){var e=t.touches,i=this.$refs.swipe||{},s=i.offsetX,n=void 0===s?0:s;1===e.length&&1!==this.scale?this.startMove(t):2!==e.length||n||this.startZoom(t)},onImageTouchMove:function(t){var e=t.touches;if((this.moving||this.zooming)&&Object(r["c"])(t,!0),this.moving){this.touchMove(t);var i=this.deltaX+this.startMoveX,s=this.deltaY+this.startMoveY;this.moveX=Object(a["a"])(i,-this.maxMoveX,this.maxMoveX),this.moveY=Object(a["a"])(s,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var n=g(e),o=this.startScale*n/this.startDistance;this.scale=Object(a["a"])(o,this.minZoom,this.maxZoom)}},onImageTouchEnd:function(t){if(this.moving||this.zooming){var e=!0;this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.moving=!1,this.zooming=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale()),e&&Object(r["c"])(t,!0)}},setActive:function(t){this.resetScale(),t!==this.active&&(this.active=t,this.$emit("change",t))},resetScale:function(){this.scale=1,this.moveX=0,this.moveY=0},toggleScale:function(){var t=this.scale>1?1:2;this.scale=t,this.moveX=0,this.moveY=0},genIndex:function(){var t=this.$createElement;if(this.showIndex)return t("div",{class:p("index")},[this.slots("index")||this.active+1+" / "+this.images.length])},genCover:function(){var t=this.$createElement,e=this.slots("cover");if(e)return t("div",{class:p("cover")},[e])},genImages:function(){var t=this,e=this.$createElement,i={loading:function(){return e(u["a"],{attrs:{type:"spinner"}})}};return e(d["a"],{ref:"swipe",attrs:{loop:this.loop,indicatorColor:"white",duration:this.swipeDuration,initialSwipe:this.startPosition,showIndicators:this.showIndicators},class:p("swipe"),on:{change:this.setActive},nativeOn:{touchstart:this.onWrapperTouchStart,touchMove:r["c"],touchend:this.onWrapperTouchEnd,touchcancel:this.onWrapperTouchEnd}},[this.images.map((function(s,n){return e(m["a"],[e(h["a"],{attrs:{src:s,fit:"contain",lazyLoad:t.lazyLoad},class:p("image"),scopedSlots:i,style:n===t.active?t.imageStyle:null,nativeOn:{touchstart:t.onImageTouchStart,touchmove:t.onImageTouchMove,touchend:t.onImageTouchEnd,touchcancel:t.onImageTouchEnd}})])}))])}},render:function(){var t=arguments[0];if(this.value)return t("transition",{attrs:{name:"van-fade"}},[t("div",{class:[p(),this.className]},[this.genImages(),this.genIndex(),this.genCover()])])}}),y=i("a142"),I={loop:!0,images:[],value:!0,minZoom:1/3,maxZoom:3,className:"",onClose:null,onChange:null,lazyLoad:!1,showIndex:!0,asyncClose:!1,startPosition:0,swipeDuration:500,showIndicators:!1,closeOnPopstate:!1},w=function(){b=new(n["default"].extend(x))({el:document.createElement("div")}),document.body.appendChild(b.$el),b.$on("change",(function(t){b.onChange&&b.onChange(t)}))},C=function(t,e){if(void 0===e&&(e=0),!y["d"]){b||w();var i=Array.isArray(t)?{images:t,startPosition:e}:t;return Object(s["a"])(b,I,i),b.$once("input",(function(t){b.value=t})),i.onClose&&b.$once("close",i.onClose),b}};C.install=function(){n["default"].use(x)};e["a"]=C},"47ee":function(t,e,i){},"565f":function(t,e,i){"use strict";var s=i("2638"),n=i.n(s),o=i("c31d"),a=i("ad06"),r=i("7744"),l=i("dfaf"),c=i("1325"),h=i("a8fa"),u=i("d282"),d=i("a142"),m=i("ea8e"),f=Object(u["a"])("field"),v=f[0],p=f[1];e["a"]=v({inheritAttrs:!1,props:Object(o["a"])({},l["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,maxlength:[Number,String],labelWidth:[Number,String],labelClass:null,labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(d["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(o["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(m["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,i=e.value,s=this.maxlength;return Object(d["b"])(s)&&i.length>s&&(i=i.slice(0,s),t.value=i),i}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),Object(h["a"])()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(c["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,i=-1===String(this.value).indexOf("."),s=e>=48&&e<=57||46===e&&i||45===e;s||Object(c["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(d["c"])(this.autosize)){var i=this.autosize,s=i.maxHeight,n=i.minHeight;s&&(e=Math.min(e,s)),n&&(e=Math.max(e,n))}e&&(t.style.height=e+"px")}},genInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:p("control",this.inputAlign)},[e]);var i={ref:"input",class:p("control",this.inputAlign),domProps:{value:this.value},attrs:Object(o["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",n()([{},i])):t("input",n()([{attrs:{type:this.type}},i]))},genLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:p("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(a["a"],{attrs:{name:this.leftIcon}})])},genRightIcon:function(){var t=this.$createElement,e=this.slots,i=e("right-icon")||this.rightIcon;if(i)return t("div",{class:p("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(a["a"],{attrs:{name:this.rightIcon}})])},genWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.maxlength)return t("div",{class:p("word-limit")},[this.value.length,"/",this.maxlength])}},render:function(){var t,e=arguments[0],i=this.slots,s=this.labelAlign,n={icon:this.genLeftIcon};return i("label")&&(n.title=function(){return i("label")}),e(r["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[p("label",s),this.labelClass],arrowDirection:this.arrowDirection},class:p((t={error:this.error},t["label-"+s]=s,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:n,on:{click:this.onClick}},[e("div",{class:p("body")},[this.genInput(),this.showClear&&e(a["a"],{attrs:{name:"clear"},class:p("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),i("button")&&e("div",{class:p("button")},[i("button")])]),this.genWordLimit(),this.errorMessage&&e("div",{class:p("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"6b41":function(t,e,i){"use strict";var s=i("2638"),n=i.n(s),o=i("d282"),a=i("a142"),r=i("ba31"),l=i("b1d2"),c=i("ad06"),h=Object(o["a"])("nav-bar"),u=h[0],d=h[1];function m(t,e,i,s){var o;return t("div",n()([{class:[d({fixed:e.fixed}),(o={},o[l["a"]]=e.border,o)],style:{zIndex:e.zIndex}},Object(r["b"])(s)]),[t("div",{class:d("left"),on:{click:s.listeners["click-left"]||a["e"]}},[i.left?i.left():[e.leftArrow&&t(c["a"],{class:d("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:d("text")},[e.leftText])]]),t("div",{class:[d("title"),"van-ellipsis"]},[i.title?i.title():e.title]),t("div",{class:d("right"),on:{click:s.listeners["click-right"]||a["e"]}},[i.right?i.right():e.rightText&&t("span",{class:d("text")},[e.rightText])])])}m.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}},e["a"]=u(m)},a8fa:function(t,e,i){"use strict";var s=i("a142");function n(){return!s["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var o=i("a8c1");i.d(e,"a",(function(){return r}));var a=n();function r(){a&&Object(o["d"])(Object(o["a"])())}},e329:function(t,e,i){"use strict";var s=i("47ee"),n=i.n(s);n.a}}]);
//# sourceMappingURL=chunk-1d295dd0.3ab8e2db.js.map
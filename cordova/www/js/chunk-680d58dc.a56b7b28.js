(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-680d58dc"],{2762:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(i){t.isLoading=i},expression:"isLoading"}},[s("p",[t._v("刷新次数: "+t._s(t.count))])])],1)},n=[],a=s("2b0e"),o=s("58e6");a["default"].use(o["a"]);var u={name:"Test",data:function(){return{count:0,isLoading:!1}},methods:{onRefresh:function(){var t=this;setTimeout((function(){t.$toast("刷新成功"),t.isLoading=!1,t.count++}),500)}}},h=u,c=s("2877"),r=Object(c["a"])(h,e,n,!1,null,"3e3bbd32",null);i["default"]=r.exports},"58e6":function(t,i,s){"use strict";var e=s("d282"),n=s("1325"),a=s("3875"),o=s("a8c1"),u=s("543e"),h=Object(e["a"])("pull-refresh"),c=h[0],r=h[1],l=h[2],d=["pulling","loosing","success"];i["a"]=c({mixins:[a["a"]],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:Number,default:500},animationDuration:{type:Number,default:300},headHeight:{type:Number,default:50}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{untouchable:function(){return"loading"===this.status||"success"===this.status||this.disabled}},watch:{value:function(t){var i=this;this.duration=this.animationDuration,!t&&this.successText?(this.status="success",setTimeout((function(){i.setStatus(0)}),this.successDuration)):this.setStatus(t?this.headHeight:0,t)}},mounted:function(){this.scrollEl=Object(o["b"])(this.$el)},methods:{onTouchStart:function(t){!this.untouchable&&this.getCeiling()&&(this.duration=0,this.touchStart(t))},onTouchMove:function(t){this.untouchable||(this.touchMove(t),!this.ceiling&&this.getCeiling()&&(this.duration=0,this.startY=t.touches[0].clientY,this.deltaY=0),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(this.setStatus(this.ease(this.deltaY)),Object(n["c"])(t)))},onTouchEnd:function(){var t=this;!this.untouchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(this.headHeight,!0),this.$emit("input",!0),this.$nextTick((function(){t.$emit("refresh")}))):this.setStatus(0))},getCeiling:function(){return this.ceiling=0===Object(o["c"])(this.scrollEl),this.ceiling},ease:function(t){var i=this.headHeight;return Math.round(t<i?t:t<2*i?i+(t-i)/2:1.5*i+(t-2*i)/4)},setStatus:function(t,i){this.distance=t;var s=i?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing";s!==this.status&&(this.status=s)}},render:function(){var t=arguments[0],i=this.status,s=this.distance,e=this[i+"Text"]||l(i),n={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""},a=this.slots(i,{distance:s})||[-1!==d.indexOf(i)&&t("div",{class:r("text")},[e]),"loading"===i&&t(u["a"],{attrs:{size:"16"}},[e])];return t("div",{class:r()},[t("div",{class:r("track"),style:n,on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("div",{class:r("head")},[a]),this.slots()])])}})}}]);
//# sourceMappingURL=chunk-680d58dc.a56b7b28.js.map